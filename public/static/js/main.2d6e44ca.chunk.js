(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{202:function(e,t,n){},203:function(e,t,n){},346:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),r=n.n(a),o=n(11),i=n.n(o),s=(n(202),n(12)),l=(n(203),n(388)),u=n(181),j=n(178),d=n.n(j),b=n(179),m=n.n(b),h=n(379),O=n(381),x=n(383),f=n(349),p=(0,n(0).createContext)(),g=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function v(e){var t=e.gameStatus,n=g(),r=Object(a.useContext)(p).nickName;return Object(c.jsx)("div",{className:n.root+"header",children:Object(c.jsx)(O.a,{color:"secondary",position:"static",children:Object(c.jsxs)(x.a,{children:[Object(c.jsx)(f.a,{variant:"h6",className:n.title,children:"Draw & Guess"}),Object(c.jsx)(f.a,{variant:"h6",className:n.title,children:t?"Hello ".concat(r):""})]})})})}var y=n(42),w=n(15),k=n(394),S=n(391),C=n(385),N=n(389),P=n(390),W=n(165),T=n.n(W),M=n(384),F=n(387),I=n(112),E=n.n(I),R=n(164),G="http://localhost:4000",L=n.n(R)()(G),B=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{backgroundColor:e.palette.secondary.main},form:{width:"100%"},submit:{margin:e.spacing(3,0,2)}}})),Y=function(){var e=Object(w.f)(),t=B(),n=Object(a.useContext)(p),r=n.setFullName,o=n.setNickName,i=n.role,l=Object(a.useState)(""),u=Object(s.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(""),m=Object(s.a)(b,2),h=m[0],O=m[1];return Object(c.jsx)("div",{className:"landingPage",children:Object(c.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(C.a,{}),Object(c.jsxs)("div",{className:t.paper,children:[Object(c.jsx)(k.a,{className:t.avatar,children:Object(c.jsx)(T.a,{})}),Object(c.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(c.jsx)(N.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"fullname",label:"Full Name",name:"fullName",placeholder:"Full Name",autoComplete:"fullname",onChange:function(e){return O(e.target.value)},value:h,autoFocus:!0,InputProps:{startAdornment:Object(c.jsx)(F.a,{position:"start",children:Object(c.jsx)(E.a,{})})}}),Object(c.jsx)(N.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"nickname",label:"Nick Name",placeholder:"Nick Name",id:"nickname",onChange:function(e){return d(e.target.value)},value:j,autoComplete:"nickname",InputProps:{startAdornment:Object(c.jsx)(F.a,{position:"start",children:Object(c.jsx)(E.a,{})})}}),Object(c.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!j||!h,className:t.submit,onClick:function(t){return o(j),r(h),L.emit("signed"),void("draw"===i?e.push("/mode"):e.push("/main"))},children:"Lets Play !"})]}),Object(c.jsx)(P.a,{mt:8,children:Object(c.jsx)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:"Draw & Guess - Tomer Revah for Moveo exam"})})]})})},z=n(180),D=n(171),H=n.n(D),X=n(182),A=n(170),J=n.n(A),U=n(393),Z=n(173),q=n.n(Z),K=function(e){var t=e.changeWord,n=e.setChangeWord,r=Object(a.useRef)(null),o=Object(a.useRef)(null),i=Object(a.useState)(!1),l=Object(s.a)(i,2),u=l[0],j=l[1],d=Object(a.useState)("black"),b=Object(s.a)(d,2),m=b[0],h=b[1],O=Object(a.useState)(!1),x=Object(s.a)(O,2),f=x[0],g=x[1],v=Object(X.a)(),y=Object(s.a)(v,2),k=y[0],C=y[1],N=Object(a.useContext)(p).role,P=Object(w.f)();Object(a.useEffect)((function(){var e=r.current;e.height=.6*C,e.width=.9*k;var t=e.getContext("2d");t.scale(1,1),t.lineCap="round",t.lineWidth=3,o.current=t}),[k,C]),Object(a.useEffect)((function(){L.on("start draw",(function(e){var t=e.x,n=e.y;o.current&&(o.current.beginPath(),o.current.moveTo(t,n))})),L.on("draw",(function(e){o.current&&(o.current.lineTo(e.x,e.y),o.current.strokeStyle=e.color.hex,o.current.stroke())})),L.on("finish draw",(function(){o.current&&o.current.closePath()})),L.on("clear",(function(){o.current&&o.current.clearRect(0,0,r.current.width,r.current.height)})),L.on("right answer",(function(){o.current&&o.current.clearRect(0,0,r.current.width,r.current.height)})),L.on("mode picked",(function(){o.current&&o.current.clearRect(0,0,r.current.width,r.current.height)}))}),[]);var W=function(e){if("guess"!==N){var t=r.current.getBoundingClientRect(),n=e.touches[0];o.current.beginPath(),o.current.moveTo(n.clientX-t.x,n.clientY-t.y),j(!0),L.emit("start draw",{x:n.clientX-t.x,y:n.clientY-t.y})}},T=function(e){if(u&&"guess"!==N){var t=e.touches[0],n=r.current.getBoundingClientRect();o.current.strokeStyle=m.hex,o.current.lineTo(t.clientX-n.x,t.clientY-n.y),o.current.stroke(),L.emit("draw",{x:t.clientX-n.x,y:t.clientY-n.y,color:m})}},M=function(){"guess"!==N&&(o.current.closePath(),j(!1),L.emit("finish draw"))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"canvas",style:{marginBottom:"20px"},children:Object(c.jsx)("canvas",{id:"canvas",onMouseDown:W,onMouseUp:M,onMouseMove:T,onTouchStart:W,onTouchEnd:M,onTouchMove:T,ref:r})}),"draw"===N?Object(c.jsxs)(c.Fragment,{children:[" ",Object(c.jsx)(z.a,{color:m,onChange:h}),Object(c.jsxs)("div",{className:"gameButtons",children:[Object(c.jsx)(S.a,{variant:"contained",color:"secondary",startIcon:Object(c.jsx)(J.a,{}),style:{marginTop:"20px"},onClick:function(){return n(!t)},children:"Generate New Word"}),Object(c.jsx)(S.a,{variant:"contained",color:"secondary",startIcon:Object(c.jsx)(H.a,{}),style:{marginTop:"20px"},onClick:function(){o.current.clearRect(0,0,r.current.width,r.current.height),L.emit("clear")},children:"Clear Canvas"}),Object(c.jsx)(U.a,{PopperProps:{disablePortal:!0},open:f,onClose:function(){return g(!1)},disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:"Score Submited",children:Object(c.jsx)(S.a,{variant:"contained",color:"secondary",className:"endGame",startIcon:Object(c.jsx)(q.a,{}),style:{marginTop:"20px"},onClick:function(){P.push("/end"),L.emit("end game")},children:"End Game"})})]})," "]}):""]})},Q=n(114),V=n.n(Q),$=function(e){var t=e.setWord,n=e.setScore,r=Object(a.useContext)(p),o=r.role,i=r.nickName,l=r.word,u=r.words,j=r.gameStatus,d=r.modePicked,b=r.mode,m=r.score,h=Object(a.useState)(!1),O=Object(s.a)(h,2),x=O[0],g=O[1],v=Object(a.useState)(""),y=Object(s.a)(v,2),k=y[0],C=y[1],P=Object(a.useState)(""),W=Object(s.a)(P,2),T=W[0],M=W[1],F=Object(w.f)(),I={easy:1,normal:3,hard:5};Object(a.useEffect)((function(){if("draw"===o&&x){var e=u.findIndex((function(e){return e===l})),n=e+1>=u.length?0:e+1,c=u[n];t(c),L.emit("clear")}}),[x]),Object(a.useEffect)((function(){return L.on("check answer",(function(e){e.guess===l.toLocaleLowerCase()&&(L.emit("right answer",m+I[b]),n(m+I[b]),g((function(e){return!e})),M(e.nickName))})),L.on("end game",(function(){return F.push("/end")})),function(){L.off("check answer"),L.off("end game")}}),[l]),Object(a.useEffect)((function(){return L.on("right answer",(function(e){g((function(e){return!e})),n(e)})),L.on("mode picked",(function(){return n(0)})),function(){L.off("right answer")}}),[]);return Object(c.jsxs)("div",{className:"content",children:[j&&d?Object(c.jsxs)(c.Fragment,{children:["draw"===o?Object(c.jsxs)("h2",{children:["Draw - ",l]}):"",Object(c.jsxs)("h3",{style:{marginBottom:"10px"},children:["Score : ",m]}),Object(c.jsx)(K,{user2:T,score:m,changeWord:x,setChangeWord:g})]}):Object(c.jsxs)("div",{className:"waiting",children:[Object(c.jsx)(V.a,{fontSize:"large"}),Object(c.jsx)(f.a,{paragraph:!0,align:"center",variant:"h2",children:"Waiting For 2nd Player..."}),Object(c.jsx)(V.a,{fontSize:"large"})]}),"guess"===o&&j&&d?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a,{onChange:function(e){return C(e.target.value)},value:k,id:"standard-basic",label:"Place Your Guess Here !"}),Object(c.jsx)(S.a,{onClick:function(){L.emit("check answer",{guess:k.toLocaleLowerCase(),nickName:i})},variant:"contained",color:"secondary",style:{marginTop:"20px"},children:"Submit Your Answer"})]}):""]})},_=n(115),ee=n.n(_),te=n(174),ne=n(175),ce=n.n(ne),ae=n(177),re=n.n(ae),oe=n(176),ie=n.n(oe),se=function(e){var t=e.setModePicked,n=e.setWords,r=e.score,o=e.setMode,i=Object(w.f)(),s=Object(a.useContext)(p).mode;return Object(a.useEffect)((function(){s&&Object(te.a)(ee.a.mark((function e(){var c,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(G,"/words/").concat(s));case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,L.emit("mode picked",r),t(!0),n(a),i.push("/choose-word"),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[s]),Object(c.jsxs)("div",{className:"modePick",children:[Object(c.jsx)(f.a,{variant:"h4",align:"center",color:"textPrimary",children:"Pick Your Game Level :"}),Object(c.jsxs)(f.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["EZ Mode Win - 1 Point ",Object(c.jsx)("br",{}),"Medium Mode Win - 3 Points ",Object(c.jsx)("br",{}),"Hard Mode Win - 5 Points"]}),Object(c.jsxs)("div",{className:"levelButtons",children:[Object(c.jsx)(S.a,{style:{marginTop:"10px"},className:"easy",size:"large",startIcon:Object(c.jsx)(ce.a,{}),variant:"contained",color:"primary",onClick:function(e){o("easy")},children:"Easy"}),Object(c.jsx)(S.a,{style:{marginTop:"10px"},size:"large",variant:"contained",startIcon:Object(c.jsx)(ie.a,{}),color:"primary",onClick:function(e){o("normal")},children:"Medium"}),Object(c.jsx)(S.a,{style:{marginTop:"10px"},className:"hard",size:"large",startIcon:Object(c.jsx)(re.a,{}),variant:"contained",color:"primary",onClick:function(e){o("hard")},children:"Hard"})]})]})},le=n(116),ue=n.n(le),je=function(){return Object(c.jsxs)("div",{className:"endContent",children:[Object(c.jsx)(ue.a,{fontSize:"large"}),Object(c.jsx)(f.a,{variant:"h4",align:"center",color:"textPrimary",children:"Thank You For Playing!"}),Object(c.jsx)(ue.a,{fontSize:"large"}),Object(c.jsxs)(f.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["Hope you had fun :) ",Object(c.jsx)("br",{}),"See you soon!"]}),Object(c.jsx)(f.a,{variant:"h6",align:"center",color:"textPrimary",children:"For a new game - refresh your browser"})]})},de=function(e){var t=e.setWord,n=Object(a.useContext)(p).words,r=Object(w.f)();return Object(c.jsxs)(M.a,{component:"main",maxWidth:"xs",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:"40px"},children:[Object(c.jsx)(f.a,{component:"h1",variant:"h5",children:"Choose Word"}),Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px",gap:"10px"},children:n.map((function(e){return Object(c.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){return function(e){t(e),r.push("/main")}(e)},children:e},e)}))})]})};var be=function(){var e=Object(u.a)({palette:{primary:{main:d.a[500]},secondary:{main:m.a[500]}}});Object(a.useEffect)((function(){L.on("connection",(function(e){g(e.role)})),L.on("game full",(function(){N(!0)})),L.on("mode picked",(function(){J(!0)}))}),[]);var t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(""),j=Object(s.a)(i,2),b=j[0],h=j[1],O=Object(a.useState)(""),x=Object(s.a)(O,2),f=x[0],g=x[1],k=Object(a.useState)(!1),S=Object(s.a)(k,2),C=S[0],N=S[1],P=Object(a.useState)([]),W=Object(s.a)(P,2),T=W[0],M=W[1],F=Object(a.useState)([]),I=Object(s.a)(F,2),E=I[0],R=I[1],G=Object(a.useState)(""),B=Object(s.a)(G,2),z=B[0],D=B[1],H=Object(a.useState)(!1),X=Object(s.a)(H,2),A=X[0],J=X[1],U=Object(a.useState)(0),Z=Object(s.a)(U,2),q=Z[0],K=Z[1];return Object(c.jsx)(y.a,{children:Object(c.jsx)(p.Provider,{value:{fullName:r,nickName:b,setFullName:o,setNickName:h,role:f,words:T,word:E,mode:z,modePicked:A,gameStatus:C,score:q},children:Object(c.jsxs)(l.a,{theme:e,children:[Object(c.jsx)(v,{gameStatus:C}),Object(c.jsx)(w.a,{to:"/sign"}),Object(c.jsx)(w.b,{exact:!0,path:"/",children:Object(c.jsx)(w.a,{to:"/sign"})}),Object(c.jsx)(w.b,{path:"/choose-word",component:function(){return Object(c.jsx)(de,{setWord:R})}}),Object(c.jsx)(w.b,{path:"/sign",component:function(){return Object(c.jsx)(Y,{})}}),Object(c.jsx)(w.b,{path:"/mode",component:function(){return Object(c.jsx)(se,{setWords:M,setModePicked:J,setMode:D})}}),Object(c.jsx)(w.b,{path:"/main",component:function(){return Object(c.jsx)($,{setWord:R,setScore:K})}}),Object(c.jsx)(w.b,{path:"/end",component:je})]})})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(be,{})}),document.getElementById("root"))}},[[346,1,2]]]);
//# sourceMappingURL=main.2d6e44ca.chunk.js.map