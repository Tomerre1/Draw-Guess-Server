(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{202:function(e,t,n){},203:function(e,t,n){},350:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),o=n.n(a),s=(n(202),n(11)),i=(n(203),n(394)),l=n(182),u=n(179),j=n.n(u),d=n(180),b=n.n(d),m=n(385),h=n(387),O=n(389),x=n(354),f=(0,n(0).createContext)(),p=n(3),g=Object(m.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function v(e){var t=e.gameStatus,n=g(),r=Object(c.useContext)(f).nickName;return Object(p.jsx)("div",{className:n.root+"header",children:Object(p.jsx)(h.a,{color:"secondary",position:"static",children:Object(p.jsxs)(O.a,{children:[Object(p.jsx)(x.a,{variant:"h6",className:n.title,children:"Draw & Guess"}),Object(p.jsx)(x.a,{variant:"h6",className:n.title,children:t?"Hello ".concat(r):""})]})})})}var y=n(46),w=n(15),k=n(399),S=n(397),C=n(391),N=n(395),P=n(396),W=n(166),T=n.n(W),M=n(390),F=n(393),I=n(113),E=n.n(I),R=n(165),G="https://tomer-api-draw-guess.onrender.com",L=n.n(R)()(G,{transports:["websocket"]}),B=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{backgroundColor:e.palette.secondary.main},form:{width:"100%"},submit:{margin:e.spacing(3,0,2)}}})),Y=function(){var e=Object(w.f)(),t=B(),n=Object(c.useContext)(f),r=n.setFullName,a=n.setNickName,o=n.role,i=Object(c.useState)(""),l=Object(s.a)(i,2),u=l[0],j=l[1],d=Object(c.useState)(""),b=Object(s.a)(d,2),m=b[0],h=b[1];return Object(p.jsx)("div",{className:"landingPage",children:Object(p.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(C.a,{}),Object(p.jsxs)("div",{className:t.paper,children:[Object(p.jsx)(k.a,{className:t.avatar,children:Object(p.jsx)(T.a,{})}),Object(p.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(p.jsx)(N.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"fullname",label:"Full Name",name:"fullName",placeholder:"Full Name",autoComplete:"fullname",onChange:function(e){return h(e.target.value)},value:m,autoFocus:!0,InputProps:{startAdornment:Object(p.jsx)(F.a,{position:"start",children:Object(p.jsx)(E.a,{})})}}),Object(p.jsx)(N.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"nickname",label:"Nick Name",placeholder:"Nick Name",id:"nickname",onChange:function(e){return j(e.target.value)},value:u,autoComplete:"nickname",InputProps:{startAdornment:Object(p.jsx)(F.a,{position:"start",children:Object(p.jsx)(E.a,{})})}}),Object(p.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!u||!m,className:t.submit,onClick:function(t){return a(u),r(m),L.emit("signed"),void("draw"===o?e.push("/mode"):e.push("/main"))},children:"Lets Play !"})]}),Object(p.jsx)(P.a,{mt:8,children:Object(p.jsx)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:"Draw & Guess - Tomer Revah for Moveo exam"})})]})})},z=n(181),D=n(172),H=n.n(D),X=n(183),A=n(171),J=n.n(A),U=n(400),Z=n(174),q=n.n(Z),K=function(e){var t=e.changeWord,n=e.setChangeWord,r=Object(c.useRef)(null),a=Object(c.useRef)(null),o=Object(c.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],j=Object(c.useState)("black"),d=Object(s.a)(j,2),b=d[0],m=d[1],h=Object(c.useState)(!1),O=Object(s.a)(h,2),x=O[0],g=O[1],v=Object(X.a)(),y=Object(s.a)(v,2),k=y[0],C=y[1],N=Object(c.useContext)(f).role,P=Object(w.f)();Object(c.useEffect)((function(){var e=r.current;e.height=.6*C,e.width=.9*k;var t=e.getContext("2d");t.scale(1,1),t.lineCap="round",t.lineWidth=3,a.current=t}),[k,C]),Object(c.useEffect)((function(){L.on("start draw",(function(e){var t=e.x,n=e.y;a.current&&(a.current.beginPath(),a.current.moveTo(t,n))})),L.on("draw",(function(e){a.current&&(a.current.lineTo(e.x,e.y),a.current.strokeStyle=e.color.hex,a.current.stroke())})),L.on("finish draw",(function(){a.current&&a.current.closePath()})),L.on("clear",(function(){a.current&&a.current.clearRect(0,0,r.current.width,r.current.height)})),L.on("right answer",(function(){a.current&&a.current.clearRect(0,0,r.current.width,r.current.height)})),L.on("mode picked",(function(){a.current&&a.current.clearRect(0,0,r.current.width,r.current.height)}))}),[]);var W=function(e){if("guess"!==N){var t=r.current.getBoundingClientRect(),n=e.touches[0];a.current.beginPath(),a.current.moveTo(n.clientX-t.x,n.clientY-t.y),u(!0),L.emit("start draw",{x:n.clientX-t.x,y:n.clientY-t.y})}},T=function(e){if(l&&"guess"!==N){var t=e.touches[0],n=r.current.getBoundingClientRect();a.current.strokeStyle=b.hex,a.current.lineTo(t.clientX-n.x,t.clientY-n.y),a.current.stroke(),L.emit("draw",{x:t.clientX-n.x,y:t.clientY-n.y,color:b})}},M=function(){"guess"!==N&&(a.current.closePath(),u(!1),L.emit("finish draw"))};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"canvas",style:{marginBottom:"20px"},children:Object(p.jsx)("canvas",{id:"canvas",onMouseDown:W,onMouseUp:M,onMouseMove:T,onTouchStart:W,onTouchEnd:M,onTouchMove:T,ref:r})}),"draw"===N?Object(p.jsxs)(p.Fragment,{children:[" ",Object(p.jsx)(z.a,{color:b,onChange:m}),Object(p.jsxs)("div",{className:"gameButtons",children:[Object(p.jsx)(S.a,{variant:"contained",color:"secondary",startIcon:Object(p.jsx)(J.a,{}),style:{marginTop:"20px"},onClick:function(){return n(!t)},children:"Generate New Word"}),Object(p.jsx)(S.a,{variant:"contained",color:"secondary",startIcon:Object(p.jsx)(H.a,{}),style:{marginTop:"20px"},onClick:function(){a.current.clearRect(0,0,r.current.width,r.current.height),L.emit("clear")},children:"Clear Canvas"}),Object(p.jsx)(U.a,{PopperProps:{disablePortal:!0},open:x,onClose:function(){return g(!1)},disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:"Score Submited",children:Object(p.jsx)(S.a,{variant:"contained",color:"secondary",className:"endGame",startIcon:Object(p.jsx)(q.a,{}),style:{marginTop:"20px"},onClick:function(){P.push("/end"),L.emit("end game")},children:"End Game"})})]})," "]}):""]})},Q=n(115),V=n.n(Q),$=function(e){var t=e.setWord,n=e.setScore,r=Object(c.useContext)(f),a=r.role,o=r.nickName,i=r.word,l=r.words,u=r.gameStatus,j=r.modePicked,d=r.mode,b=r.score,m=Object(c.useState)(!1),h=Object(s.a)(m,2),O=h[0],g=h[1],v=Object(c.useState)(""),y=Object(s.a)(v,2),k=y[0],C=y[1],P=Object(c.useState)(""),W=Object(s.a)(P,2),T=W[0],M=W[1],F=Object(w.f)(),I={easy:1,normal:3,hard:5};Object(c.useEffect)((function(){if("draw"===a&&O){var e=l.findIndex((function(e){return e===i})),n=e+1>=l.length?0:e+1,c=l[n];t(c),L.emit("clear")}}),[O]),Object(c.useEffect)((function(){return L.on("check answer",(function(e){e.guess===i.toLocaleLowerCase()&&(L.emit("right answer",b+I[d]),n(b+I[d]),g((function(e){return!e})),M(e.nickName))})),L.on("end game",(function(){return F.push("/end")})),function(){L.off("check answer"),L.off("end game")}}),[i]),Object(c.useEffect)((function(){return L.on("right answer",(function(e){g((function(e){return!e})),n(e)})),L.on("mode picked",(function(){return n(0)})),function(){L.off("right answer")}}),[]);return Object(p.jsxs)("div",{className:"content",children:[u&&j?Object(p.jsxs)(p.Fragment,{children:["draw"===a?Object(p.jsxs)("h2",{children:["Draw - ",i]}):"",Object(p.jsxs)("h3",{style:{marginBottom:"10px"},children:["Score : ",b]}),Object(p.jsx)(K,{user2:T,score:b,changeWord:O,setChangeWord:g})]}):Object(p.jsxs)("div",{className:"waiting",children:[Object(p.jsx)(V.a,{fontSize:"large"}),Object(p.jsx)(x.a,{paragraph:!0,align:"center",variant:"h2",children:"Waiting For 2nd Player..."}),Object(p.jsx)(V.a,{fontSize:"large"})]}),"guess"===a&&u&&j?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a,{onChange:function(e){return C(e.target.value)},value:k,id:"standard-basic",label:"Place Your Guess Here !"}),Object(p.jsx)(S.a,{onClick:function(){L.emit("check answer",{guess:k.toLocaleLowerCase(),nickName:o})},variant:"contained",color:"secondary",style:{marginTop:"20px"},children:"Submit Your Answer"})]}):""]})},_=n(116),ee=n(175),te=n(176),ne=n.n(te),ce=n(178),re=n.n(ce),ae=n(177),oe=n.n(ae),se=function(e){var t=e.setModePicked,n=e.setWords,r=e.score,a=e.setMode,o=Object(w.f)(),s=Object(c.useContext)(f).mode;return Object(c.useEffect)((function(){s&&Object(ee.a)(Object(_.a)().mark((function e(){var c,a;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(G,"/words/").concat(s));case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,L.emit("mode picked",r),t(!0),n(a),o.push("/choose-word"),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[s]),Object(p.jsxs)("div",{className:"modePick",children:[Object(p.jsx)(x.a,{variant:"h4",align:"center",color:"textPrimary",children:"Pick Your Game Level :"}),Object(p.jsxs)(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["EZ Mode Win - 1 Point ",Object(p.jsx)("br",{}),"Medium Mode Win - 3 Points ",Object(p.jsx)("br",{}),"Hard Mode Win - 5 Points"]}),Object(p.jsxs)("div",{className:"levelButtons",children:[Object(p.jsx)(S.a,{style:{marginTop:"10px"},className:"easy",size:"large",startIcon:Object(p.jsx)(ne.a,{}),variant:"contained",color:"primary",onClick:function(e){a("easy")},children:"Easy"}),Object(p.jsx)(S.a,{style:{marginTop:"10px"},size:"large",variant:"contained",startIcon:Object(p.jsx)(oe.a,{}),color:"primary",onClick:function(e){a("normal")},children:"Medium"}),Object(p.jsx)(S.a,{style:{marginTop:"10px"},className:"hard",size:"large",startIcon:Object(p.jsx)(re.a,{}),variant:"contained",color:"primary",onClick:function(e){a("hard")},children:"Hard"})]})]})},ie=n(117),le=n.n(ie),ue=function(){return Object(p.jsxs)("div",{className:"endContent",children:[Object(p.jsx)(le.a,{fontSize:"large"}),Object(p.jsx)(x.a,{variant:"h4",align:"center",color:"textPrimary",children:"Thank You For Playing!"}),Object(p.jsx)(le.a,{fontSize:"large"}),Object(p.jsxs)(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["Hope you had fun :) ",Object(p.jsx)("br",{}),"See you soon!"]}),Object(p.jsx)(x.a,{variant:"h6",align:"center",color:"textPrimary",children:"For a new game - refresh your browser"})]})},je=function(e){var t=e.setWord,n=Object(c.useContext)(f).words,r=Object(w.f)();return Object(p.jsxs)(M.a,{component:"main",maxWidth:"xs",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:"40px"},children:[Object(p.jsx)(x.a,{component:"h1",variant:"h5",children:"Choose Word"}),Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px",gap:"10px"},children:n.map((function(e){return Object(p.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){return function(e){t(e),r.push("/main")}(e)},children:e},e)}))})]})};var de=function(){var e=Object(l.a)({palette:{primary:{main:j.a[500]},secondary:{main:b.a[500]}}});Object(c.useEffect)((function(){L.on("connection",(function(e){g(e.role)})),L.on("game full",(function(){N(!0)})),L.on("mode picked",(function(){J(!0)}))}),[]);var t=Object(c.useState)(""),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(""),u=Object(s.a)(o,2),d=u[0],m=u[1],h=Object(c.useState)(""),O=Object(s.a)(h,2),x=O[0],g=O[1],k=Object(c.useState)(!1),S=Object(s.a)(k,2),C=S[0],N=S[1],P=Object(c.useState)([]),W=Object(s.a)(P,2),T=W[0],M=W[1],F=Object(c.useState)([]),I=Object(s.a)(F,2),E=I[0],R=I[1],G=Object(c.useState)(""),B=Object(s.a)(G,2),z=B[0],D=B[1],H=Object(c.useState)(!1),X=Object(s.a)(H,2),A=X[0],J=X[1],U=Object(c.useState)(0),Z=Object(s.a)(U,2),q=Z[0],K=Z[1];return Object(p.jsx)(y.a,{children:Object(p.jsx)(f.Provider,{value:{fullName:r,nickName:d,setFullName:a,setNickName:m,role:x,words:T,word:E,mode:z,modePicked:A,gameStatus:C,score:q},children:Object(p.jsxs)(i.a,{theme:e,children:[Object(p.jsx)(v,{gameStatus:C}),Object(p.jsx)(w.a,{to:"/sign"}),Object(p.jsx)(w.b,{exact:!0,path:"/",children:Object(p.jsx)(w.a,{to:"/sign"})}),Object(p.jsx)(w.b,{path:"/choose-word",component:function(){return Object(p.jsx)(je,{setWord:R})}}),Object(p.jsx)(w.b,{path:"/sign",component:function(){return Object(p.jsx)(Y,{})}}),Object(p.jsx)(w.b,{path:"/mode",component:function(){return Object(p.jsx)(se,{setWords:M,setModePicked:J,setMode:D})}}),Object(p.jsx)(w.b,{path:"/main",component:function(){return Object(p.jsx)($,{setWord:R,setScore:K})}}),Object(p.jsx)(w.b,{path:"/end",component:ue})]})})})};o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(de,{})}),document.getElementById("root"))}},[[350,1,2]]]);
//# sourceMappingURL=main.7e576c07.chunk.js.map